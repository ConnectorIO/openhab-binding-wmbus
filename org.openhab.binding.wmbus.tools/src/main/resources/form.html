<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Frame injection tool</title>
    <style>
        input {
            display: block;
        }
    </style>
</head>
<body>

<h1>Frame injector</h1>

<a href="/wmbus/collector">Collected frames</a>

<form method="post" action="/wmbus">
    <span style="color: red; ">__error__</span>

    <p>Select adapter to inject:</p>
    <select name="adapter" style="width: 150px">__adapters__</select>

    <p>Enter hex encoded frame contents:</p>
    <textarea name="frame" style="width: 500px; height: 400px"></textarea>

    <fieldset>
        <legend>AES key</legend>
        <input type="text" name="aesKey" />
    </fieldset>

    <fieldset>
        <legend>RSSI value</legend>
        <p>
            RSSI can be added to all injected frames, by default RSSI value is set at 100.
        </p>

        <fieldset>
            <label for="rssiIndex">Take RSSI from every injected frame</label>
            <strong>RSS byte is skipped from frame</strong>, so it reduces frame length by one byte.
            Value 1 means first byte, -1 means last byte, 0 means not available (skip this operation and use static rssi).
            <input type="text" id="rssiIndex" name="rssiIndex" value="0" />
        </fieldset>
        <fieldset>
            <label for="rssiValue">Static RSSI value.</label>
            <input type="text" id="rssiValue" name="rssiValue" value="100" />
        </label>
        </fieldset>
    </fieldset>

    <fieldset>
        <legend>Initial  bytes to skip</legend>
        <input type="text" name="skipBytes" value="0" />
    </fieldset>

    <fieldset>
        <legend>Strip CRC</legend>
        Yes <input type="checkbox" name="stripCRC" />
    </fieldset>
    <fieldset>
        <legend>Calculate length</legend>
        Yes <input type="checkbox" name="calculateLength" />
    </fieldset>
    <fieldset>
        <legend>Recalculate length</legend>
        Yes <input type="checkbox" name="recalculateLength" />
    </fieldset>

    <p>
        <input type="submit">
    </p>
</form>

</body>
</html>